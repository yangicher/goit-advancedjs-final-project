{"version":3,"file":"index-BF9eOT5X.js","sources":["../../src/js/api.js","../../src/js/helpers.js","../../src/js/rating-modal.js","../../src/js/modal.js","../../src/js/exercises-list.js","../../src/js/exercises.js","../../src/js/scroll-to-top.js","../../src/js/header.js","../../src/js/quote.js","../../src/js/hero.js","../../src/js/favorites.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://your-energy.b.goit.study/api/';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nexport const get = async (path, params) => {\n  try {\n    const response = await axios.get(`${BASE_URL}${path}`, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error in get:', error);\n    throw error;\n  }\n};\n\nexport const patch = async (path, params) => {\n  try {\n    const response = await axios.patch(`${BASE_URL}${path}`, params);\n    return response.data;\n  } catch (error) {\n    console.error('Error in patch:', error);\n    throw error;\n  }\n};\n\nexport const post = async (path, params) => {\n    try {\n        const res = await axios.post(`${BASE_URL}${path}`, params);\n        return res.data;\n    } catch (error) {\n        console.error('Error in post:', error);\n        return error.response;\n    }\n};","export const getFavorites = () => {\n  const stored = localStorage.getItem('favorites');\n  try {\n    return stored ? JSON.parse(stored) : [];\n  } catch (e) {\n    console.error('Failed to parse favorites:', e);\n    return [];\n  }\n};","import { patch } from './api';\n\nexport default class RatingModal {\n  constructor(rootSelector = '#modal-root') {\n    this.#rootSelector = rootSelector;\n  }\n\n  #rootSelector;\n  #exerciseId = '';\n  #isShown = false;\n  #selectedRating = 0;\n  #email = '';\n  #comment = '';\n\n  get #rootElement() {\n    return document.querySelector(this.#rootSelector);\n  }\n\n  get #backDrop() {\n    return this.#rootElement?.querySelector('.modal-backdrop');\n  }\n\n  get #closeButton() {\n    return this.#rootElement?.querySelector('#menu-close-button');\n  }\n\n  get #stars() {\n    return this.#rootElement?.querySelectorAll('.star-rating svg');\n  }\n\n  get #ratingCountInfo() {\n    return this.#rootElement?.querySelector('.modal-rating-count');\n  }\n\n  get #sendButton() {\n    return this.#rootElement?.querySelector('#send-rating-button');\n  }\n\n  get #form() {\n    return this.#rootElement?.querySelector('#rating-form');\n  }\n\n  get #emailInput() {\n    return this.#rootElement?.querySelector('#email');\n  }\n\n  get #commentInput() {\n    return this.#rootElement?.querySelector('#comment');\n  }\n\n  #reset() {\n    this.#exerciseId = '';\n    this.#selectedRating = 0;\n    this.#email = '';\n    this.#comment = '';\n    this.#isShown = false;\n\n    if (this.#form) this.#form.reset?.();\n    if (this.#ratingCountInfo) this.#ratingCountInfo.textContent = '0.0';\n    if (this.#sendButton) this.#sendButton.setAttribute('disabled', 'true');\n  }\n\n  #renderModal() {\n    return `\n      <div class=\"modal-backdrop\">\n        <div class=\"modal-rating-container\">\n          <svg id=\"menu-close-button\" class=\"menu-close-button\">\n            <use href=\"./img/icons.svg#menu-close\"></use>\n          </svg>\n          <p class=\"modal-rating-header\">Rating</p>\n          <div class=\"modal-rating-info-container\">\n            <div class=\"modal-rating-stars-container\">\n              <p class=\"modal-rating-count\">0.0</p>\n              <ul class=\"star-rating\">\n                ${[1, 2, 3, 4, 5]\n                  .map(\n                    i => `\n                  <li><svg data-index=\"${i}\"><use href=\"./img/icons.svg#icon-star\"></use></svg></li>\n                `\n                  )\n                  .join('')}\n              </ul>\n            </div>\n            <form id=\"rating-form\">\n              <label>\n                <input required type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" autocomplete=\"email\" pattern=\"^\\w+(.\\w+)?@[a-zA-Z_]+?.[a-zA-Z]{2,3}$)\" />\n              </label>\n              <label>\n                <textarea required name=\"comment\" id=\"comment\" placeholder=\"Your comment\" rows=\"4\"></textarea>\n              </label>\n              <div class=\"modal-controls\">\n                <button type=\"submit\" id=\"send-rating-button\" class=\"btn primary\" disabled>Send</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>`;\n  }\n\n  #dispatchCloseEvent() {\n    this.#rootElement?.dispatchEvent(\n      new CustomEvent('rating-modal:close', { bubbles: true })\n    );\n  }\n\n  #hideModalHandler = e => {\n    if (e.target.classList.contains('modal-backdrop')) {\n      this.hideModal();\n    }\n  };\n\n  #highlightStars = count => {\n    this.#stars?.forEach((star, i) => {\n      star.classList.toggle('hovered', i < count);\n      star.classList.toggle('selected', i < this.#selectedRating);\n    });\n  };\n\n  #toggleButtonDisable() {\n    if (!this.#sendButton) return;\n\n    const ready =\n      this.#email.trim() && this.#comment.trim() && this.#selectedRating > 0;\n    this.#sendButton.disabled = !ready;\n  }\n\n  #submit = async e => {\n    e.preventDefault();\n\n    const formData = new FormData(e.target);\n    const email = formData.get('email')?.trim();\n    const comment = formData.get('comment')?.trim();\n\n    try {\n      await patch(`exercises/${this.#exerciseId}/rating`, {\n        rate: this.#selectedRating,\n        email,\n        review: comment,\n      });\n\n      this.hideModal();\n    } catch (err) {\n      console.error('Rating submit failed:', err);\n      alert('Failed to submit rating. Please try again later.');\n    }\n  };\n\n  #initStarsListeners() {\n    this.#stars?.forEach((star, index) => {\n      star.addEventListener('mouseover', () => this.#highlightStars(index + 1));\n      star.addEventListener('mouseout', () =>\n        this.#highlightStars(this.#selectedRating)\n      );\n      star.addEventListener('click', () => {\n        this.#selectedRating = index + 1;\n        this.#highlightStars(this.#selectedRating);\n        if (this.#ratingCountInfo) {\n          this.#ratingCountInfo.textContent = this.#selectedRating.toFixed(1);\n        }\n        this.#toggleButtonDisable();\n      });\n    });\n  }\n\n  #onEscapeKeydown = e => {\n    if (e.key === 'Escape') {\n      this.hideModal();\n    }\n  };\n\n  showModal(id) {\n    if (!id) return;\n\n    this.#exerciseId = id;\n    this.#rootElement.innerHTML = this.#renderModal();\n\n    this.#backDrop?.addEventListener('click', this.#hideModalHandler);\n    this.#closeButton?.addEventListener('click', this.hideModal);\n    this.#form?.addEventListener('submit', this.#submit);\n\n    this.#emailInput?.addEventListener('input', e => {\n      this.#email = e.target.value;\n      this.#toggleButtonDisable();\n    });\n\n    this.#commentInput?.addEventListener('input', e => {\n      this.#comment = e.target.value;\n      this.#toggleButtonDisable();\n    });\n    window.addEventListener('keydown', this.#onEscapeKeydown);\n    document.body.style.overflow = 'hidden';\n\n    this.#isShown = true;\n    this.#initStarsListeners();\n  }\n\n  hideModal = () => {\n    if (!this.#isShown) return;\n\n    window.removeEventListener('keydown', this.#onEscapeKeydown);\n    document.body.style.overflow = 'visible';\n    this.#rootElement.innerHTML = '';\n    this.#dispatchCloseEvent();\n    this.#reset();\n  };\n}\n","import { getFavorites } from './helpers';\nimport RatingModal from './rating-modal';\n\nexport default class Modal {\n  constructor(rootSelector = '#modal-root') {\n    this.#rootSelector = rootSelector;\n    this.#ratingModal = new RatingModal(this.#rootSelector);\n\n    this.#rootElement.addEventListener(\n      'rating-modal:close',\n      this.#closeRatingModalHandler\n    );\n  }\n  #rootSelector;\n  #isShown = false;\n  #currentData = {};\n  #ratingModal = null;\n\n  get #rootElement() {\n    return document.querySelector(this.#rootSelector);\n  }\n\n  get #backDrop() {\n    return document.querySelector('.modal-backdrop');\n  }\n\n  get #addToFavoriteButton() {\n    return document.querySelector('#add-to-favorite-button');\n  }\n\n  get #giveRatingButton() {\n    return document.querySelector('#give-a-rating-button');\n  }\n\n  get #closeButton() {\n    return document.querySelector('#menu-close-button');\n  }\n\n  #renderModal(data) {\n    this.#currentData = data;\n\n    const {\n      target = 'N/A',\n      bodyPart = 'N/A',\n      equipment = 'N/A',\n      gifUrl = '',\n      name = 'Unknown Exercise',\n      description = 'No description available',\n      rating = 0,\n      burnedCalories = 0,\n      time = 0,\n      popularity = 0,\n    } = this.#currentData;\n\n    return `<div class=\"modal-backdrop\">\n      <div class=\"modal-container\">\n        <svg id=\"menu-close-button\" class=\"menu-close-button\">\n          <use href=\"./img/icons.svg#menu-close\"></use>\n        </svg>\n        <div class=\"info-container\">\n          <img src=\"${gifUrl}\" alt=\"exercise\" class=\"modal-image\" onerror=\"this.src='/src/img/no-image.webp'\" />\n          <div>\n            <p class=\"modal-name\">${name}</p>\n            <div class=\"modal-rating-info\">\n              <p class=\"modal-rating\">${rating}</p>\n              ${this.#generateRatingStars(rating)}\n            </div>\n            <hr />\n            <ul class=\"modal-meta\">\n              <li>\n                <p>Target</p>\n                <p>${target}</p>\n              </li>\n              <li>\n                <p>Body Part</p>\n                <p>${bodyPart}</p>\n              </li>\n              <li>\n                <p>Equipment</p>\n                <p>${equipment}</p>\n              </li>\n              <li>\n                <p>Popular</p>\n                <p>${popularity}</p>\n              </li>\n              <li>\n                <p>Burned Calories</p>\n                <p>${burnedCalories}${time ? ` / ${time} min` : ''}</p>\n              </li>\n            </ul>\n            <hr />\n            <p class=\"modal-description\">${description}</p>\n          </div>\n        </div>\n        <div class=\"modal-controls\">\n          <button id=\"add-to-favorite-button\" class=\"btn primary\">\n            Add to favorites\n          </button>\n          <button id=\"give-a-rating-button\" class=\"btn secondary\">\n            Give rating\n          </button>\n        </div>\n      </div>\n    </div>`;\n  }\n\n  #hideModalHandler = e => {\n    if (e.target.classList.contains('modal-backdrop')) {\n      this.hideModal();\n    }\n  };\n\n  #toggleFavorite = () => {\n    const favorites = getFavorites();\n    const name = this.#currentData.name;\n\n    const index = favorites.findIndex(item => item.name === name);\n    if (index !== -1) {\n      favorites.splice(index, 1);\n    } else {\n      favorites.push(this.#currentData);\n    }\n\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n    this.#updateFavoriteButtonText();\n  };\n\n  #updateFavoriteButtonText = () => {\n    const btn = this.#addToFavoriteButton;\n    if (!btn) return;\n\n    const isFavorite = getFavorites().some(\n      item => item.name === this.#currentData.name\n    );\n\n    btn.innerHTML = isFavorite\n      ? 'Remove from favorites <svg><use href=\"./img/icons.svg#icon-trash\"></use></svg>'\n      : 'Add to favorites <svg><use href=\"./img/icons.svg#icon-heart\"></use></svg>';\n  };\n\n  #generateRatingStars(rating) {\n    const full = Math.floor(rating);\n    const empty = 5 - full;\n    return `\n    <ul class=\"modal-rating-stars\">\n      ${'<li><svg class=\"active\"><use href=\"./img/icons.svg#icon-star\"></use></svg></li>'.repeat(\n      full\n    )}\n      ${'<li><svg><use href=\"./img/icons.svg#icon-star\"></use></svg></li>'.repeat(\n      empty\n    )}\n    </ul>\n  `;\n  }\n\n  #showRatingModalHandler = () => {\n    this.hideModal();\n    this.#ratingModal.showModal(this.#currentData._id);\n  };\n\n  #closeRatingModalHandler = () => {\n    this.showModal(this.#currentData);\n  };\n\n  #onEscapeKeydown = e => {\n    if (e.key === 'Escape') {\n      this.hideModal();\n    }\n  };\n\n  showModal = props => {\n    if (this.#isShown) return;\n\n    try {\n      this.#rootElement.innerHTML = this.#renderModal(props);\n\n      this.#addToFavoriteButton?.addEventListener('click', this.#toggleFavorite);\n      this.#backDrop?.addEventListener('click', this.#hideModalHandler);\n      this.#closeButton?.addEventListener('click', this.hideModal);\n      this.#giveRatingButton?.addEventListener(\n        'click',\n        this.#showRatingModalHandler\n      );\n\n      window.addEventListener('keydown', this.#onEscapeKeydown);\n      document.body.style.overflow = 'hidden'\n\n      this.#updateFavoriteButtonText();\n      this.#isShown = true;\n    } catch (error) {\n      this.#rootElement.innerHTML = '';\n    }\n  };\n\n  hideModal = () => {\n    if (!this.#isShown) return;\n\n    window.removeEventListener('keydown', this.#onEscapeKeydown);\n    document.body.style.overflow = 'visible'\n    this.#rootElement.innerHTML = '';\n    this.#isShown = false;\n  };\n}\n","\nexport class ExercisesList {\n  constructor(options = {}) {\n    this.container = options.container;\n    this.showRating = options.showRating ?? true;\n    this.showRemoveBtn = options.showRemoveBtn ?? false;\n    this.onStartClick = options.onStartClick || (() => { });\n    this.onRemoveClick = options.onRemoveClick || (() => { });\n    this.customClass = options.customClass || '';\n  }\n\n  generateExerciseCard(exercise) {\n    const ratingHtml = this.showRating ? `\n      <div class=\"rating\">\n        ${exercise.rating} <span class=\"star\">\n          <svg width=\"14\" height=\"14\">\n            <use href=\"./img/icons.svg#icon-star-full\"></use>\n          </svg>\n        </span>\n      </div>\n    ` : '';\n\n    const removeBtn = this.showRemoveBtn ? `\n      <img class=\"icon-top remove-btn\" src=\"./img/icons/trash-01.svg\" alt=\"Trash Icon\" data-id=\"${exercise._id || exercise.id}\">\n    ` : '';\n\n    return `\n      <div class=\"exercise-item ${this.customClass}\" data-exercise-id=\"${exercise._id || exercise.id}\">\n        <div class=\"exercise-top-row\">\n          <div class=\"workout-rating-left\">\n            <div class=\"workout-badge\">WORKOUT</div>\n            ${this.showRating ? ratingHtml : removeBtn}\n          </div>\n          <button class=\"start-btn\" data-exercise-id=\"${exercise._id || exercise.id}\">\n            Start\n            <span class=\"arrow\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" style=\"stroke: #242424;\">\n                <use href=\"./img/icons.svg#icon-arrow-start\"></use>\n              </svg>\n            </span>\n          </button>\n        </div>\n        <div class=\"exercise-middle-row\">\n          <div class=\"exercise-icon\">\n            <svg width=\"20\" height=\"20\">\n              <use href=\"./img/icons.svg#icon-runner\"></use>\n            </svg>\n          </div>\n          <h3 class=\"exercise-title\">${exercise.name}</h3>\n        </div>\n        <div class=\"exercise-bottom-row\">\n          <span><span class=\"meta-label\">Burned calories:</span> <span class=\"meta-value\">${exercise.burnedCalories}</span></span>\n          <span><span class=\"meta-label\">Body part:</span> <span class=\"meta-value\">${exercise.bodyPart}</span></span>\n          <span><span class=\"meta-label\">Target:</span> <span class=\"meta-value\">${exercise.target}</span></span>\n        </div>\n      </div>\n    `;\n  }\n\n  render(exercises) {\n    if (!this.container) {\n      console.error('Container not provided for ExercisesList');\n      return;\n    }\n\n    if (!exercises || exercises.length === 0) {\n      this.container.innerHTML = this.getEmptyMessage();\n      return;\n    }\n\n    const exercisesHtml = exercises.map(exercise => this.generateExerciseCard(exercise)).join('');\n\n    if (!this.showRemoveBtn) {\n      this.container.innerHTML = `<div class=\"exercises-list\">${exercisesHtml}</div>`;\n    } else {\n      this.container.innerHTML = exercisesHtml;\n    }\n\n    this.attachEventListeners();\n  }\n\n  getEmptyMessage() {\n    if (this.showRemoveBtn) {\n      return `<p class=\"no-favorites-msg\">\n        It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\n      </p>`;\n    }\n    return '<div class=\"error\">No exercises found.</div>';\n  }\n\n  attachEventListeners() {\n    const startBtns = this.container.querySelectorAll('.start-btn');\n\n\n    startBtns.forEach(btn => {\n      btn.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const exerciseId = btn.dataset.exerciseId;\n        console.log('Start button clicked, exercise ID:', exerciseId);\n        this.onStartClick(exerciseId);\n      });\n    });\n\n    if (this.showRemoveBtn) {\n      const removeBtns = this.container.querySelectorAll('.remove-btn');\n      removeBtns.forEach(btn => {\n        btn.addEventListener('click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const exerciseId = btn.dataset.id;\n          this.onRemoveClick(exerciseId);\n        });\n      });\n    }\n  }\n\n  removeExercise(exerciseId) {\n    const exerciseElement = this.container.querySelector(`[data-exercise-id=\"${exerciseId}\"]`);\n    if (exerciseElement) {\n      exerciseElement.remove();\n\n      const remainingExercises = this.container.querySelectorAll('.exercise-item');\n      if (remainingExercises.length === 0) {\n        this.container.innerHTML = this.getEmptyMessage();\n      }\n    }\n  }\n\n  clear() {\n    if (this.container) {\n      this.container.innerHTML = '';\n    }\n  }\n}\n\nexport function createPaginationHTML(currentPage, totalPages) {\n  if (totalPages <= 1) return '';\n\n  const pages = [];\n\n  pages.push(`\n    <button class=\"page-btn nav-btn prev\" ${currentPage === 1 ? 'disabled' : ''} data-page=\"prev\">\n      <svg width=\"20\" height=\"20\">\n        <use href=\"./img/icons.svg#icon-nav-arrow\"></use>\n      </svg>\n    </button>\n  `);\n\n  pages.push(generatePageNumbers(currentPage, totalPages));\n\n  pages.push(`\n    <button class=\"page-btn nav-btn next\" ${currentPage === totalPages ? 'disabled' : ''} data-page=\"next\">\n      <svg width=\"20\" height=\"20\">\n        <use href=\"./img/icons.svg#icon-nav-arrow\"></use>\n      </svg>\n    </button>\n  `);\n\n  return `<div class=\"muscles-pagination\">${pages.join('')}</div>`;\n}\n\nfunction generatePageNumbers(current, total) {\n  const pages = [];\n\n  if (total <= 5) {\n    for (let i = 1; i <= total; i++) {\n      pages.push(`<button class=\"page-btn ${i === current ? 'active' : ''}\" data-page=\"${i}\">${i}</button>`);\n    }\n  } else {\n    pages.push(`<button class=\"page-btn ${1 === current ? 'active' : ''}\" data-page=\"1\">1</button>`);\n\n    if (current > 3) {\n      pages.push('<span class=\"page-dots\">...</span>');\n    }\n\n    const start = Math.max(2, current - 1);\n    const end = Math.min(total - 1, current + 1);\n\n    for (let i = start; i <= end; i++) {\n      if (i !== 1 && i !== total) {\n        pages.push(`<button class=\"page-btn ${i === current ? 'active' : ''}\" data-page=\"${i}\">${i}</button>`);\n      }\n    }\n\n    if (current < total - 2) {\n      pages.push('<span class=\"page-dots\">...</span>');\n    }\n\n    if (total > 1) {\n      pages.push(`<button class=\"page-btn ${total === current ? 'active' : ''}\" data-page=\"${total}\">${total}</button>`);\n    }\n  }\n\n  return pages.join('');\n}","import { get } from './api';\nimport Modal from './modal';\nimport { ExercisesList, createPaginationHTML } from './exercises-list';\n\n// ===============================================\n// CONSTANTS & CONFIGURATION\n// ===============================================\nconst CONFIG = {\n  FILTERS_PER_PAGE: 12,\n  EXERCISES_PER_PAGE: 10,\n  SEARCH_DEBOUNCE_DELAY: 1000,\n  ANIMATION_DURATION: 0,\n  DEFAULT_FILTER: 'Muscles',\n};\n\nconst SELECTORS = {\n  musclesGrid: '#muscles-grid',\n  tabs: '.tab',\n  searchSection: '#search-section',\n  breadcrumb: '#breadcrumb',\n  searchInput: '.search-input',\n  searchClearBtn: '#search-clear-btn',\n};\n\nconst FILTER_TYPES = {\n  MUSCLES: 'Muscles',\n  BODY_PARTS: 'Body parts',\n  EQUIPMENT: 'Equipment',\n};\n\n// ===============================================\n// STATE MANAGEMENT\n// ===============================================\nclass ExercisesState {\n  constructor() {\n    this.currentPage = 1;\n    this.totalPages = 1;\n    this.currentFilter = CONFIG.DEFAULT_FILTER;\n    this.selectedBodyPart = '';\n    this.allExercises = [];\n    this.filteredExercises = [];\n    this.exercisesMap = new Map();\n    this.currentHeight = 0;\n    this.searchTimeout = null;\n  }\n\n  reset() {\n    this.currentPage = 1;\n    this.totalPages = 1;\n    this.allExercises = [];\n    this.filteredExercises = [];\n    this.exercisesMap.clear();\n    this.selectedBodyPart = '';\n    this.clearSearchTimeout();\n  }\n\n  clearSearchTimeout() {\n    if (this.searchTimeout) {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = null;\n    }\n  }\n}\n\n// ===============================================\n// DOM UTILITIES\n// ===============================================\nclass DOMUtils {\n  static getElementById(id) {\n    return document.getElementById(id.replace('#', ''));\n  }\n\n  static querySelectorAll(selector) {\n    return document.querySelectorAll(selector);\n  }\n\n  static show(element) {\n    element.style.display = 'block';\n  }\n\n  static hide(element) {\n    element.style.display = 'none';\n  }\n\n  static setContent(element, content) {\n    element.innerHTML = content;\n  }\n\n  static measureContentHeight(content, containerWidth) {\n    const tempContainer = document.createElement('div');\n    Object.assign(tempContainer.style, {\n      visibility: 'hidden',\n      position: 'absolute',\n      top: '-9999px',\n      width: `${containerWidth}px`,\n    });\n    tempContainer.innerHTML = content;\n    document.body.appendChild(tempContainer);\n\n    const height = tempContainer.scrollHeight;\n    document.body.removeChild(tempContainer);\n    return height;\n  }\n\n  static animateHeight(element, newHeight, duration = CONFIG.ANIMATION_DURATION) {\n    element.style.height = `${newHeight}px`;\n    setTimeout(() => {\n      element.style.height = 'auto';\n    }, duration);\n  }\n}\n\n// ===============================================\n// API UTILITIES\n// ===============================================\nclass APIService {\n  static async fetchFilters(filter, page = 1) {\n    return await get('filters', {\n      filter,\n      page,\n      limit: CONFIG.FILTERS_PER_PAGE\n    });\n  }\n\n  static async fetchExercises(filterName, filterType, page = 1) {\n    const params = {\n      page,\n      limit: CONFIG.EXERCISES_PER_PAGE\n    };\n\n    switch (filterType) {\n      case FILTER_TYPES.BODY_PARTS:\n        params.bodypart = filterName;\n        break;\n      case FILTER_TYPES.MUSCLES:\n        params.muscles = filterName;\n        break;\n      case FILTER_TYPES.EQUIPMENT:\n        params.equipment = filterName;\n        break;\n    }\n\n    return await get('exercises', params);\n  }\n}\n\n// ===============================================\n// TEMPLATE GENERATORS\n// ===============================================\nclass Templates {\n  static filterCard(item) {\n    return `\n      <div class=\"muscle-card\" data-filter=\"${item.name}\" data-filter-type=\"${item.filter}\">\n        <img src=\"${item.imgURL}\" alt=\"${item.name}\" class=\"muscle-card-img\" />\n        <div class=\"muscle-card-label\">\n          <span class=\"muscle-card-title\">${item.name}</span>\n          <span class=\"muscle-card-subtitle\">${item.filter}</span>\n        </div>\n      </div>\n    `;\n  }\n\n  static loadingTemplate(height) {\n    return `<div class=\"loading\" style=\"height: ${height - 80}px;\">Loading...</div>`;\n  }\n\n  static errorTemplate(message) {\n    return `<div class=\"error\">${message}</div>`;\n  }\n\n  static contentWrapper(content, paginationHTML = '') {\n    return `\n      <div class=\"content-wrapper\">\n        <div class=\"content-area\">${content}</div>\n        ${paginationHTML ? `<div class=\"pagination-area\">${paginationHTML}</div>` : ''}\n      </div>\n    `;\n  }\n}\n\n// ===============================================\n// MAIN EXERCISES CLASS\n// ===============================================\nclass ExercisesManager {\n  constructor() {\n    this.state = new ExercisesState();\n    this.elements = this.initializeElements();\n    this.modal = new Modal();\n    this.exercisesList = null;\n\n    // Don't continue if essential elements are missing\n    if (!this.elements) {\n      return;\n    }\n\n    this.setupEventListeners();\n  }\n\n  initializeElements() {\n    const elements = {\n      musclesGrid: DOMUtils.getElementById(SELECTORS.musclesGrid),\n      tabs: DOMUtils.querySelectorAll(SELECTORS.tabs),\n      searchSection: DOMUtils.getElementById(SELECTORS.searchSection),\n      breadcrumb: DOMUtils.getElementById(SELECTORS.breadcrumb),\n      searchClearBtn: DOMUtils.getElementById(SELECTORS.searchClearBtn),\n    };\n\n    // Check if essential elements exist\n    if (!elements.musclesGrid || !elements.searchSection) {\n      return null;\n    }\n\n    // Add searchInput safely\n    elements.searchInput = elements.searchSection.querySelector(SELECTORS.searchInput);\n\n    return elements;\n  }\n\n  setupEventListeners() {\n    this.setupTabListeners();\n    this.setupSearchListeners();\n    this.setupExerciseClickListeners();\n  }\n\n  setupTabListeners() {\n    this.elements.tabs.forEach(tab => {\n      tab.addEventListener('click', () => this.handleTabSwitch(tab));\n    });\n  }\n\n  setupSearchListeners() {\n    this.elements.searchInput.addEventListener('input', (e) => this.handleSearchInput(e));\n    this.elements.searchInput.addEventListener('keydown', (e) => this.handleSearchKeydown(e));\n    this.elements.searchClearBtn.addEventListener('click', (e) => this.handleSearchClear(e));\n  }\n\n  setupExerciseClickListeners() {\n    this.elements.musclesGrid.addEventListener('click', (e) => {\n      const filterCard = e.target.closest('.muscle-card');\n      if (filterCard) {\n        const filterName = filterCard.dataset.filter;\n        const filterType = filterCard.dataset.filterType;\n        this.renderExercisesList(filterName, filterType, '', 1);\n        return;\n      }\n\n      const backBtn = e.target.closest('.back-btn');\n      if (backBtn) {\n        this.state.reset();\n        this.clearSearchInput();\n        this.renderFilters(this.state.currentFilter, 1);\n        return;\n      }\n\n      const pageBtn = e.target.closest('.page-btn');\n      if (pageBtn) {\n        this.handlePagination(pageBtn, this.state.selectedBodyPart ? 'exercises' : 'filters');\n        return;\n      }\n    });\n  }\n\n  // ===============================================\n  // RENDERING METHODS\n  // ===============================================\n  async renderFilters(filter = CONFIG.DEFAULT_FILTER, page = 1) {\n    this.hideSearchAndBreadcrumb();\n    this.state.selectedBodyPart = '';\n\n    this.prepareContainer();\n\n    try {\n      const data = await APIService.fetchFilters(filter, page);\n      this.updateFilterState(data, filter);\n\n      if (!data.results.length) {\n        this.showError('No items found.');\n        return;\n      }\n\n      const content = this.buildFiltersContent(data.results);\n      const paginationHTML = createPaginationHTML(page, this.state.totalPages);\n      const fullContent = Templates.contentWrapper(content, paginationHTML);\n\n      this.updateContainerWithAnimation(fullContent);\n\n    } catch (error) {\n      this.showError('Failed to load data.');\n    }\n  }\n\n  async renderExercisesList(filterName, filterType, searchTerm = '', page = 1) {\n    this.showSearchAndBreadcrumb(filterName);\n\n    if (!searchTerm) {\n      this.clearSearchInput();\n    }\n\n    this.prepareContainer();\n\n    try {\n      const data = await APIService.fetchExercises(filterName, filterType, page);\n      this.updateExercisesState(data, filterName);\n\n      const filteredExercises = this.filterExercises(searchTerm);\n\n      if (filteredExercises.length === 0) {\n        this.showNoExercisesFound(searchTerm);\n        return;\n      }\n\n      // Build complete content with back button first\n      const backButton = `<button class=\"back-btn\"><span class=\"arrow\">←</span> Back to ${this.state.currentFilter}</button>`;\n      const paginationHTML = searchTerm ? '' : createPaginationHTML(page, this.state.totalPages);\n\n      // Create the wrapper structure\n      const fullContent = `\n        <div class=\"content-wrapper\">\n          <div class=\"content-area\">\n            <div class=\"exercises-list-container\"></div>\n            ${backButton}\n          </div>\n          ${paginationHTML ? `<div class=\"pagination-area\">${paginationHTML}</div>` : ''}\n        </div>\n      `;\n\n      // Update container with the structure\n      this.updateContainerWithAnimation(fullContent);\n\n      // Now find the exercises list container and initialize the component\n      const exercisesListContainer = this.elements.musclesGrid.querySelector('.exercises-list-container');\n\n      // Initialize ExercisesList component with the actual DOM element\n      this.exercisesList = new ExercisesList({\n        container: exercisesListContainer,\n        showRating: true,\n        showRemoveBtn: false,\n        onStartClick: (exerciseId) => {\n          console.log('onStartClick called with ID:', exerciseId);\n          const exercise = this.state.exercisesMap.get(exerciseId);\n          console.log('Exercise found:', exercise);\n          if (exercise) {\n            this.modal.showModal(exercise);\n          } else {\n            console.error('Exercise not found in exercisesMap for ID:', exerciseId);\n          }\n        }\n      });\n\n      // Render exercises - this will also attach event listeners\n      this.exercisesList.render(filteredExercises);\n\n    } catch (error) {\n      this.showError('Failed to load exercises.');\n    }\n  }\n\n  // ===============================================\n  // CONTENT BUILDING METHODS\n  // ===============================================\n  buildFiltersContent(results) {\n    const cardsHTML = results.map(item => Templates.filterCard(item)).join('');\n    return `<div class=\"muscles-cards-wrapper\">${cardsHTML}</div>`;\n  }\n\n  // ===============================================\n  // STATE UPDATE METHODS\n  // ===============================================\n  updateFilterState(data, filter) {\n    this.state.totalPages = data.totalPages;\n    this.state.currentFilter = filter;\n  }\n\n  updateExercisesState(data, filterName) {\n    this.state.allExercises = data.results || [];\n    this.state.totalPages = data.totalPages || 1;\n    this.state.selectedBodyPart = filterName;\n\n    this.state.exercisesMap.clear();\n    this.state.allExercises.forEach(exercise => {\n      this.state.exercisesMap.set(exercise._id, exercise);\n    });\n  }\n\n  filterExercises(searchTerm) {\n    if (searchTerm) {\n      this.state.filteredExercises = this.state.allExercises.filter(exercise =>\n        exercise.name.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    } else {\n      this.state.filteredExercises = [...this.state.allExercises];\n    }\n    return this.state.filteredExercises;\n  }\n\n  // ===============================================\n  // UI UPDATE METHODS\n  // ===============================================\n  hideSearchAndBreadcrumb() {\n    DOMUtils.hide(this.elements.searchSection);\n    DOMUtils.hide(this.elements.breadcrumb);\n  }\n\n  showSearchAndBreadcrumb(filterName) {\n    DOMUtils.show(this.elements.searchSection);\n    DOMUtils.show(this.elements.breadcrumb);\n    this.elements.breadcrumb.textContent = `/ ${filterName.charAt(0).toUpperCase() + filterName.slice(1)}`;\n  }\n\n  prepareContainer() {\n    if (this.state.currentHeight === 0) {\n      this.state.currentHeight = this.elements.musclesGrid.getBoundingClientRect().height || 600;\n    }\n\n    this.elements.musclesGrid.style.height = `${this.state.currentHeight}px`;\n    DOMUtils.setContent(this.elements.musclesGrid, Templates.loadingTemplate(this.state.currentHeight));\n  }\n\n  updateContainerWithAnimation(content) {\n    const newHeight = DOMUtils.measureContentHeight(content, this.elements.musclesGrid.offsetWidth);\n\n    DOMUtils.setContent(this.elements.musclesGrid, content);\n    DOMUtils.animateHeight(this.elements.musclesGrid, newHeight);\n    this.state.currentHeight = newHeight;\n  }\n\n  showError(message) {\n    DOMUtils.setContent(this.elements.musclesGrid, Templates.errorTemplate(message));\n  }\n\n  showNoExercisesFound(searchTerm) {\n    const message = `No exercises found${searchTerm ? ` matching \"${searchTerm}\"` : ''}.`;\n    const backButton = `<button class=\"back-btn\"><span class=\"arrow\">←</span> Back to ${this.state.currentFilter}</button>`;\n    DOMUtils.setContent(this.elements.musclesGrid, Templates.errorTemplate(message) + backButton);\n  }\n\n  // ===============================================\n  // EVENT HANDLERS\n  // ===============================================\n  handleTabSwitch(tab) {\n    this.elements.tabs.forEach(t => t.classList.remove('active'));\n    tab.classList.add('active');\n\n    this.state.reset();\n    this.clearSearchInput();\n\n    const filterMap = {\n      'muscles': FILTER_TYPES.MUSCLES,\n      'body-parts': FILTER_TYPES.BODY_PARTS,\n      'equipment': FILTER_TYPES.EQUIPMENT,\n    };\n\n    const filter = filterMap[tab.dataset.tab] || CONFIG.DEFAULT_FILTER;\n    this.renderFilters(filter, 1);\n  }\n\n  handleSearchInput(e) {\n    const searchTerm = e.target.value.trim();\n    this.updateSearchClearButton();\n\n    this.state.clearSearchTimeout();\n    this.state.searchTimeout = setTimeout(() => {\n      this.performSearch(searchTerm);\n    }, CONFIG.SEARCH_DEBOUNCE_DELAY);\n  }\n\n  handleSearchKeydown(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      this.state.clearSearchTimeout();\n      this.performSearch(e.target.value.trim());\n    }\n  }\n\n  handleSearchClear(e) {\n    e.preventDefault();\n    this.clearSearch();\n  }\n\n  // ===============================================\n  // SEARCH METHODS\n  // ===============================================\n  performSearch(searchTerm) {\n    if (this.state.selectedBodyPart) {\n      this.renderExercisesList(this.state.selectedBodyPart, this.state.currentFilter, searchTerm, 1);\n    }\n  }\n\n  clearSearch() {\n    this.elements.searchInput.value = '';\n    this.updateSearchClearButton();\n    this.state.clearSearchTimeout();\n\n    if (this.state.selectedBodyPart) {\n      this.performSearch('');\n    }\n  }\n\n  clearSearchInput() {\n    this.elements.searchInput.value = '';\n    this.updateSearchClearButton();\n  }\n\n  updateSearchClearButton() {\n    const hasValue = this.elements.searchInput.value.trim().length > 0;\n    this.elements.searchClearBtn.style.display = hasValue ? 'flex' : 'none';\n  }\n\n  handlePagination(btn, type) {\n    const { page } = btn.dataset;\n    let newPage = this.state.currentPage;\n\n    if (page === 'prev' && this.state.currentPage > 1) {\n      newPage = this.state.currentPage - 1;\n    } else if (page === 'next' && this.state.currentPage < this.state.totalPages) {\n      newPage = this.state.currentPage + 1;\n    } else if (page && !isNaN(page)) {\n      newPage = parseInt(page);\n    }\n\n    if (newPage !== this.state.currentPage) {\n      this.state.currentPage = newPage;\n\n      if (type === 'filters') {\n        this.renderFilters(this.state.currentFilter, newPage);\n      } else {\n        this.renderExercisesList(this.state.selectedBodyPart, this.state.currentFilter, '', newPage);\n      }\n    }\n  }\n\n  // ===============================================\n  // INITIALIZATION\n  // ===============================================\n  init() {\n    // Don't initialize if elements weren't properly set up\n    if (!this.elements) {\n      return;\n    }\n    this.renderFilters(CONFIG.DEFAULT_FILTER, 1);\n  }\n}\n\n// ===============================================\n// APPLICATION STARTUP\n// ===============================================\nfunction initExercisesApp() {\n  const exercisesManager = new ExercisesManager();\n  exercisesManager.init();\n}\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initExercisesApp);\n} else {\n  // DOM is already loaded\n  initExercisesApp();\n}","// Get the button:\nlet scrollTopBtn = document.getElementById('scrollTopButton');\n\nif (scrollTopBtn) {\n  scrollTopBtn.onclick = function () {\n    topFunction();\n  };\n}\n\n// When the user scrolls down 20px from the top of the document, show the button\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    scrollTopBtn.style.display = 'flex';\n  } else {\n    scrollTopBtn.style.display = 'none';\n  }\n}\n\n// When the user clicks on the button, scroll to the top of the document\nfunction topFunction() {\n  document.body.scroll({behavior: 'smooth', top: 0}); // For Safari\n  document.documentElement.scroll({behavior: 'smooth', top: 0}); // For Chrome, Firefox, IE and Opera\n}\n","const mobileMenuBtn = document.getElementById('mobile-menu-btn');\nconst mobileMenuBackdrop = document.getElementById('mobile-menu-backdrop');\nconst mobileMenu = document.getElementById('mobile-menu');\nconst mobileMenuCloseBtn = document.getElementById('mobile-menu-close-btn');\nconst mobileNavLinks = document.querySelectorAll('.mobile-nav-link');\nconst body = document.body;\n\nfunction openMobileMenu() {\n  mobileMenuBackdrop.classList.add('is-open');\n  mobileMenuBtn.classList.add('is-active');\n  mobileMenuBtn.setAttribute('aria-expanded', 'true');\n  mobileMenuBtn.setAttribute('aria-label', 'Close mobile menu');\n  body.style.overflow = 'hidden';\n}\n\nfunction closeMobileMenu() {\n  mobileMenuBackdrop.classList.remove('is-open');\n  mobileMenuBtn.classList.remove('is-active');\n  mobileMenuBtn.setAttribute('aria-expanded', 'false');\n  mobileMenuBtn.setAttribute('aria-label', 'Open mobile menu');\n  body.style.overflow = '';\n}\n\nfunction toggleMobileMenu() {\n  if (mobileMenuBackdrop.classList.contains('is-open')) {\n    closeMobileMenu();\n  } else {\n    openMobileMenu();\n  }\n}\n\nif (mobileMenuBtn) {\n  mobileMenuBtn.addEventListener('click', toggleMobileMenu);\n}\n\nif (mobileMenuCloseBtn) {\n  mobileMenuCloseBtn.addEventListener('click', closeMobileMenu);\n}\n\nif (mobileMenuBackdrop) {\n  mobileMenuBackdrop.addEventListener('click', (e) => {\n    if (e.target === mobileMenuBackdrop) {\n      closeMobileMenu();\n    }\n  });\n}\n\nmobileNavLinks.forEach(link => {\n  link.addEventListener('click', closeMobileMenu);\n});\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.key === 'Escape' && mobileMenuBackdrop.classList.contains('is-open')) {\n    closeMobileMenu();\n  }\n});\n\nfunction updateActiveNavState() {\n  const isOnFavorites = window.location.pathname.includes('favorites');\n  const targetPath = isOnFavorites ? 'favorites' : 'index.html';\n\n  document.querySelectorAll('.nav-link').forEach(link => {\n    link.classList.toggle('selected', link.href.includes(targetPath));\n  });\n\n  mobileNavLinks.forEach(link => {\n    link.classList.toggle('active', link.href.includes(targetPath));\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', updateActiveNavState);\n","import { get } from './api';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  await checkAndUpdateData();\n})\n\nasync function checkAndUpdateData() {\n  const stored = localStorage.getItem('quoteData');\n  const today = new Date().toISOString().slice(0, 10);\n\n  if (stored) {\n    const data = JSON.parse(stored);\n    if (data.date === today) {\n      updateHTML(data);\n      return;\n    }\n  }\n\n  const data = await get('quote');\n\n  const dataToStore = {\n    date: today,\n    author: data.author,\n    quote: data.quote,\n  };\n\n  localStorage.setItem('quoteData', JSON.stringify(dataToStore));\n  updateHTML(dataToStore);\n}\n\nfunction updateHTML(data) {\n  const quoteElem = document.querySelector('.js-quote');\n  const authorElem = document.querySelector('.js-author');\n\n  if (!data || !quoteElem || !authorElem) return;\n\n  quoteElem.textContent = data.quote;\n  authorElem.textContent = data.author;\n}\n","const heroContainer = document.getElementById('heroContainer');\nconst tagsList = document.getElementById('heroTags');\nconst sideWrapper = heroContainer?.querySelector('.hero-side');\nconst bottomImage = heroContainer?.querySelector('.hero-bottom-image');\n\nfunction moveTags() {\n  if (!tagsList || !sideWrapper || !bottomImage) return;\n\n  if (window.innerWidth >= 1440) {\n    if (!sideWrapper.contains(tagsList)) {\n      sideWrapper.appendChild(tagsList);\n    }\n  } else {\n    if (tagsList.previousElementSibling !== bottomImage) {\n      bottomImage.insertAdjacentElement('afterend', tagsList);\n    }\n  }\n}\n\nfunction throttle(fn, wait) {\n  let isThrottled = false;\n  return function (...args) {\n    if (!isThrottled) {\n      fn.apply(this, args);\n      isThrottled = true;\n      setTimeout(() => {\n        isThrottled = false;\n      }, wait);\n    }\n  };\n}\n\nmoveTags();\n\nwindow.addEventListener('resize', throttle(moveTags, 200));","import { ExercisesList } from './exercises-list';\nimport Modal from './modal';\nimport { get } from './api';\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n  initializeFavorites();\n  checkAndUpdateData();\n});\n\nfunction initializeFavorites() {\n  // Initialize favorites from localStorage\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n  const container = document.getElementById('favoritesList');\n\n  if (!container) {\n    return;\n  }\n\n  const modal = new Modal();\n\n  // Initialize ExercisesList component for favorites\n  const exercisesList = new ExercisesList({\n    container: container,\n    showRating: false,\n    showRemoveBtn: true,\n    onStartClick: (exerciseId) => {\n      console.log('Favorites onStartClick called with ID:', exerciseId); // Debug log\n      const exercise = favorites.find(ex => (ex._id || ex.id) === exerciseId);\n      console.log('Exercise found in favorites:', exercise); // Debug log\n      if (exercise) {\n        modal.showModal(exercise);\n      } else {\n        console.error('Exercise not found in favorites for ID:', exerciseId);\n      }\n    },\n    onRemoveClick: (exerciseId) => {\n      removeFromFavorites(exerciseId, exercisesList);\n    }\n  });\n\n  // Render initial favorites\n  exercisesList.render(favorites);\n}\n\n// === Remove exercise from favorites ===\nfunction removeFromFavorites(id, exercisesList) {\n  let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n  favorites = favorites.filter(ex => (ex._id || ex.id) !== id);\n  localStorage.setItem('favorites', JSON.stringify(favorites));\n\n  // Use the component's method to remove the exercise\n  exercisesList.removeExercise(id);\n}\n\n// === Export function to get favorites ===\nexport const getFavorites = () => {\n  const stored = localStorage.getItem('favorites');\n  try {\n    return stored ? JSON.parse(stored) : [];\n  } catch (e) {\n    console.error('Failed to parse favorites:', e);\n    return [];\n  }\n};\n\n// === Quote functionality ===\nasync function checkAndUpdateData() {\n  const stored = localStorage.getItem('quoteData');\n  const today = new Date().toISOString().slice(0, 10);\n\n  if (stored) {\n    const data = JSON.parse(stored);\n    if (data.date === today) {\n      updateHTML(data);\n      return;\n    }\n  }\n\n  try {\n    const data = await get('quote');\n\n    const dataToStore = {\n      date: today,\n      author: data.author,\n      quote: data.quote,\n    };\n\n    localStorage.setItem('quoteData', JSON.stringify(dataToStore));\n    updateHTML(dataToStore);\n  } catch (error) {\n    console.error('Не вдалося отримати цитату:', error);\n  }\n}\n\nfunction updateHTML(data) {\n  const quoteElem = document.querySelector('.js-quote');\n  const authorElem = document.querySelector('.js-author');\n\n  if (!data || !quoteElem || !authorElem) {\n    console.warn('Не знайдено елементи для вставки цитати');\n    return;\n  }\n\n  quoteElem.textContent = data.quote;\n  authorElem.textContent = data.author;\n}"],"names":["BASE_URL","axios","get","path","params","error","patch","getFavorites","stored","RatingModal","rootSelector","#rootSelector","#exerciseId","#isShown","#selectedRating","#email","#comment","#rootElement","#backDrop","#closeButton","#stars","#ratingCountInfo","#sendButton","#form","#emailInput","#commentInput","#reset","#renderModal","i","#dispatchCloseEvent","#hideModalHandler","#highlightStars","count","star","#toggleButtonDisable","ready","#submit","formData","email","comment","err","#initStarsListeners","index","#onEscapeKeydown","id","e","Modal","#ratingModal","#closeRatingModalHandler","#currentData","#addToFavoriteButton","#giveRatingButton","data","target","bodyPart","equipment","gifUrl","name","description","rating","burnedCalories","time","popularity","#generateRatingStars","#toggleFavorite","favorites","item","#updateFavoriteButtonText","btn","isFavorite","full","empty","#showRatingModalHandler","props","ExercisesList","options","exercise","ratingHtml","removeBtn","exercises","exercisesHtml","exerciseId","exerciseElement","createPaginationHTML","currentPage","totalPages","pages","generatePageNumbers","current","total","start","end","CONFIG","SELECTORS","FILTER_TYPES","ExercisesState","DOMUtils","selector","element","content","containerWidth","tempContainer","height","newHeight","duration","APIService","filter","page","filterName","filterType","Templates","message","paginationHTML","ExercisesManager","elements","tab","filterCard","pageBtn","fullContent","searchTerm","filteredExercises","backButton","exercisesListContainer","results","t","hasValue","type","newPage","initExercisesApp","scrollTopBtn","topFunction","scrollFunction","mobileMenuBtn","mobileMenuBackdrop","mobileMenuCloseBtn","mobileNavLinks","body","openMobileMenu","closeMobileMenu","toggleMobileMenu","link","updateActiveNavState","targetPath","checkAndUpdateData","today","updateHTML","dataToStore","quoteElem","authorElem","heroContainer","tagsList","sideWrapper","bottomImage","moveTags","throttle","fn","wait","isThrottled","args","initializeFavorites","container","modal","exercisesList","ex","removeFromFavorites"],"mappings":"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"}